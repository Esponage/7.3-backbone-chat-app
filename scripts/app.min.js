this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return'<form>\n  <input class="username" type="text" value="">\n  <input type="submit">\n</form>\n'},useData:!0}),this.JST.create=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return'\n<input  class="user-style" type="text" name="username" placeholder="username">\n<textarea class="textarea-style" type="text" name="message" placeholder="message"></textarea>\n<input type="submit" class="js-submit-post">\n'},useData:!0}),this.JST.index=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return""},useData:!0}),this.JST.message=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){var n,a=t.helperMissing,r="function",l=this.escapeExpression;return'\n\n  <h4 class="name">'+l((n=null!=(n=t.username||(null!=e?e.username:e))?n:a,typeof n===r?n.call(e,{name:"username",hash:{},data:s}):n))+'</h1>\n  <h2 class="post">'+l((n=null!=(n=t.message||(null!=e?e.message:e))?n:a,typeof n===r?n.call(e,{name:"message",hash:{},data:s}):n))+'</h2>\n  <h6 class="time">'+l((n=null!=(n=t.created_at||(null!=e?e.created_at:e))?n:a,typeof n===r?n.call(e,{name:"created_at",hash:{},data:s}):n))+"\n"},useData:!0}),require.register("main",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var n=t("router"),a=s(n);$(document).ready(function(){window.appRouter=new a["default"],Backbone.history.start()})}),require.register("router",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/messages-collection"),a=s(n),r=t("views/index"),l=s(r),o=Backbone.Router.extend({routes:{"":"index"},initialize:function(){$("#container").html(JST.application()),this.message=new a["default"];var e=this;this.timer=setInterval(function(){e.message.fetch()},15e3)},index:function(){var e=new l["default"]({collection:this.message});this.message.fetch(),this.showView(e)},showView:function(e){return this.currentView&&this.currentView.remove(),this.currentView=e,$("#container").html(e.render().el),e}});e["default"]=o,i.exports=e["default"]}),require.register("models/message",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.Model.extend({idAttribute:"_id",defaults:{username:"",message:"",created_at:Date.now()}});e["default"]=s,i.exports=e["default"]}),require.register("models/messages-collection",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/message"),a=s(n),r=Backbone.Collection.extend({model:a["default"],url:"http://tiny-lasagna-server.herokuapp.com/collections/messages"});e["default"]=r,i.exports=e["default"]}),require.register("views/collection-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.removeChild),this.listenTo(this.collection,"sort",this.sortChildren),this.children=[]},addChild:function(e,t){var i=t.indexOf(e),s=this.ItemViewConstructor||Backbone.View,n=new s({model:e});this.children.splice(i,0,n),this.$el.append(n.render().el)},removeChild:function(e,t){var i=_.findWhere(this.children,{model:e}),s=this.children.indexOf(i);this.children.splice(s,1),i.remove()},sortChildren:function(){var e=this,t=this.collection.map(function(t){var i=_.findWhere(e.children,{model:t});return i.el});this.$el.append(t)},remove:function(){_.invoke(this.children,"remove"),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=s,i.exports=e["default"]}),require.register("views/index",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/item"),a=s(n),r=t("views/collection-view"),l=s(r),o=t("views/message-create"),u=s(o),c=l["default"].extend({tagName:"ul",ItemViewConstructor:a["default"]}),d=Backbone.View.extend({initialize:function(){this.messageCollectionView=new c({collection:this.collection}),this.messageCreateView=new u["default"]({collection:this.collection})},render:function(){return this.$el.html(this.messageCollectionView.render().el),this.$el.prepend(this.messageCreateView.render().el),this},remove:function(){this.messageCollectionView.remove(),this.messageCreateView.remove(),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=d,i.exports=e["default"]}),require.register("views/item",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({tagName:"li",template:JST.message,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});e["default"]=s,i.exports=e["default"]}),require.register("views/message-create",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({tagName:"form",template:JST.create,events:{submit:"createMessage"},render:function(){return this.$el.html(this.template()),this.delegateEvents(),this},createMessage:function(e){console.log("hello"),e.preventDefault();this.$("input[name=message]").val();this.collection.create(this.serializeForm()),this.$("textarea").val("")},serializeForm:function(){var e={},t=this.$el.serializeArray();return t.forEach(function(t){e[t.name]=t.value}),console.log(e),e}});e["default"]=s,i.exports=e["default"]});